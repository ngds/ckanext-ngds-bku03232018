/* Copyright (c) 2014, Siemens Corporate Technology and Arizona Geological Survey */
/* Copyright (c) 2014, Siemens Corporate Technology and Arizona Geological Survey */
/* Copyright (c) 2014, Siemens Corporate Technology and Arizona Geological Survey */
ngds.validator=(function(){var b=function(){var d=this;this.setup_fields=function(){var e=$("[data-validate]").filter("[data-validate-fingerprint]");$(e).each(function(){var p=$(this).attr("data-validate-fingerprint").split("^^^");var q=0;var f=null;if(typeof p[2]!=="undefined"){var i=p[2].indexOf("[");var o;if(i===-1){o=function(s){f=new RegExp(p[2]);for(var r=0;r<s.length;r++){if(s[r].match(f)===null){return false}}return true}}else{var l=p[2].split("");l.splice(i+1,0,"^");f=new RegExp(l.join(""));o=function(r){if(f.exec(r)!==null){return false}return true}}}var m=Number(p[1]);var g=Number(p[0]);if(typeof p[3]!=="undefined"){q=Number(p[3])}var h=1;var n=this;var k=function(){h=h+1;var r=$(n).val();if(typeof $(n).attr("data-validate-ext")!=="undefined"){ngds.validator.vmap[$(n).attr("data-validate-ext")]()}if(h>=q){$(n).parents().children().filter(".error-block").remove();if(o(r)===false){$(n).after($("<div/>",{"class":"error-block",text:$(n).attr("data-validate-regex-msg")}))}if(m!==-1&&r.length>m){$(n).after($("<div/>",{"class":"error-block",text:$(n).attr("data-validate-maxlen-msg")}))}if(g!==-1&&r.length<g){$(n).after($("<div/>",{"class":"error-block",text:$(n).attr("data-validate-minlen-msg")}))}}};var j=ngds.validator.vmap||(ngds.validator.vmap={});j[this.name]=k;$(this).on("input",k)})};ngds.subscribe("Forms.reinitialize",function(){d.setup_fields()});this.initialize=function(){d.setup_fields()};return{initialize:this.initialize}};var c=null;var a=function(){if(c===null){c=new b();c.initialize()}return c};return{initialize:a}})();$(document).ready(function(){ngds.validator.initialize()});
